„
wD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Contexts\PrivateGalleryDbContext.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 
Contexts %
{ 
public 

class #
PrivateGalleryDbContext (
:) *
IdentityDbContext+ <
<< =
User= A
>A B
{		 
public

 #
PrivateGalleryDbContext

 &
(

& '
)

' (
: 
base 
( 
$str $
,$ %
throwIfV1Schema& 5
:5 6
false7 <
)< =
{ 	
} 	
public 
static #
PrivateGalleryDbContext -
Create. 4
(4 5
)5 6
{ 	
return 
new #
PrivateGalleryDbContext .
(. /
)/ 0
;0 1
} 	
public 
virtual 
DbSet 
< 
Gallery $
>$ %
	Galleries& /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
virtual 
DbSet 
< 
Photo "
>" #
Photos$ *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
	protected 
override 
void 
OnModelCreating  /
(/ 0
DbModelBuilder0 >
modelBuilder? K
)K L
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
modelBuilder 
. 
Entity 
<  
Gallery  '
>' (
(( )
)) *
. 
Property 
( 
gallery !
=>" $
gallery% ,
., -
Id- /
)/ 0
. &
HasDatabaseGeneratedOption +
(+ ,#
DatabaseGeneratedOption, C
.C D
IdentityD L
)L M
;M N
modelBuilder 
. 
Entity 
<  
Photo  %
>% &
(& '
)' (
.   
Property   
(   
photo   
=>    "
photo  # (
.  ( )
Id  ) +
)  + ,
.!! &
HasDatabaseGeneratedOption!! +
(!!+ ,#
DatabaseGeneratedOption!!, C
.!!C D
Identity!!D L
)!!L M
;!!M N
modelBuilder## 
.## 
Entity## 
<##  
User##  $
>##$ %
(##% &
)##& '
.##' (
HasMany##( /
(##/ 0
u##0 1
=>##2 4
u##5 6
.##6 7
	Galleries##7 @
)##@ A
.##A B
WithRequired##B N
(##N O
g##O P
=>##Q S
g##T U
.##U V
	OwnerUser##V _
)##_ `
;##` a
}$$ 	
}%% 
}&& ±
gD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Entities\Gallery.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 
Entities %
{ 
public 

class 
Gallery 
{		 
[

 	
Key

	 
]

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Header 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 
? 
CreatedDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
[ 	
Required	 
] 
public 
virtual 
User 
	OwnerUser %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual 
List 
< 
Photo !
>! "
Photos# )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
=8 9
new: =
List> B
<B C
PhotoC H
>H I
(I J
)J K
;K L
} 
} ß
eD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Entities\Photo.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 
Entities %
{ 
public 

class 
Photo 
{ 
[		 	
Key			 
]		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Path 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Geolocation !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTime 
? 
CreatedDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
Gallery 
Folder %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ¦
dD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Entities\User.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 
Entities %
{ 
public		 

class		 
User		 
:		 
IdentityUser		 $
{

 
public 
async 
Task 
< 
ClaimsIdentity (
>( )%
GenerateUserIdentityAsync* C
(C D
UserManagerD O
<O P
UserP T
>T U
managerV ]
,] ^
string 
authenticationType %
)% &
{ 	
var 
userIdentity 
= 
await $
manager% ,
., -
CreateIdentityAsync- @
(@ A
thisA E
,E F
authenticationTypeG Y
)Y Z
;Z [
return 
userIdentity 
;  
} 	
public 
string 

AvatarPath  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
null1 5
;5 6
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
virtual 
List 
< 
Gallery #
># $
	Galleries% .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
== >
new? B
ListC G
<G H
GalleryH O
>O P
(P Q
)Q R
;R S
} 
} û
vD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Infrastructure\DalEntityCreator.cs
	namespace		 	
PrivateGallery		
 
.		 
DAL		 
.		 
Infrastructure		 +
{

 
public 

class 
DalEntityCreator !
{ 
public 
Gallery 
CreateGalleryEntity *
(* +
GalleryBindindModel+ >
model? D
)D E
=>F H
newI L
GalleryM T
{ 	
CreatedDate 
= 
model 
.  
DateTime  (
,( )
Header 
= 
model 
. 
Name 
} 	
;	 

public 
Photo 
CreatePhotoEntity &
(& '
)' (
=>) +
new, /
Photo0 5
(5 6
)6 7
;7 8
} 
}  €
D:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Migrations\201709180553391_InitialCreate.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 

Migrations '
{ 
public 

partial 
class 
InitialCreate &
:' (
DbMigration) 4
{ 
public 
override 
void 
Up 
(  
)  !
{		 	
CreateTable

 
(

 
$str 
,  
c 
=> 
new 
{ 
Id 
= 
c 
. 
Int "
(" #
nullable# +
:+ ,
false- 2
,2 3
identity4 <
:< =
true> B
)B C
,C D
Header 
=  
c! "
." #
String# )
() *
)* +
,+ ,
CreatedDate #
=$ %
c& '
.' (
DateTime( 0
(0 1
)1 2
,2 3
OwnerUser_Id $
=% &
c' (
.( )
String) /
(/ 0
nullable0 8
:8 9
false: ?
,? @
	maxLengthA J
:J K
$numL O
)O P
,P Q
} 
) 
. 

PrimaryKey 
( 
t 
=>  
t! "
." #
Id# %
)% &
. 

ForeignKey 
( 
$str -
,- .
t/ 0
=>1 3
t4 5
.5 6
OwnerUser_Id6 B
,B C
cascadeDeleteD Q
:Q R
trueS W
)W X
. 
Index 
( 
t 
=> 
t 
. 
OwnerUser_Id *
)* +
;+ ,
CreateTable 
( 
$str !
,! "
c 
=> 
new 
{ 
Id 
= 
c 
. 
String %
(% &
nullable& .
:. /
false0 5
,5 6
	maxLength7 @
:@ A
$numB E
)E F
,F G

AvatarPath "
=# $
c% &
.& '
String' -
(- .
). /
,/ 0
	FirstName !
=" #
c$ %
.% &
String& ,
(, -
)- .
,. /
LastName  
=! "
c# $
.$ %
String% +
(+ ,
), -
,- .
Email 
= 
c  !
.! "
String" (
(( )
	maxLength) 2
:2 3
$num4 7
)7 8
,8 9
EmailConfirmed   &
=  ' (
c  ) *
.  * +
Boolean  + 2
(  2 3
nullable  3 ;
:  ; <
false  = B
)  B C
,  C D
PasswordHash!! $
=!!% &
c!!' (
.!!( )
String!!) /
(!!/ 0
)!!0 1
,!!1 2
SecurityStamp"" %
=""& '
c""( )
."") *
String""* 0
(""0 1
)""1 2
,""2 3
PhoneNumber## #
=##$ %
c##& '
.##' (
String##( .
(##. /
)##/ 0
,##0 1 
PhoneNumberConfirmed$$ ,
=$$- .
c$$/ 0
.$$0 1
Boolean$$1 8
($$8 9
nullable$$9 A
:$$A B
false$$C H
)$$H I
,$$I J
TwoFactorEnabled%% (
=%%) *
c%%+ ,
.%%, -
Boolean%%- 4
(%%4 5
nullable%%5 =
:%%= >
false%%? D
)%%D E
,%%E F
LockoutEndDateUtc&& )
=&&* +
c&&, -
.&&- .
DateTime&&. 6
(&&6 7
)&&7 8
,&&8 9
LockoutEnabled'' &
=''' (
c'') *
.''* +
Boolean''+ 2
(''2 3
nullable''3 ;
:''; <
false''= B
)''B C
,''C D
AccessFailedCount(( )
=((* +
c((, -
.((- .
Int((. 1
(((1 2
nullable((2 :
:((: ;
false((< A
)((A B
,((B C
UserName))  
=))! "
c))# $
.))$ %
String))% +
())+ ,
nullable)), 4
:))4 5
false))6 ;
,)); <
	maxLength))= F
:))F G
$num))H K
)))K L
,))L M
}** 
)** 
.++ 

PrimaryKey++ 
(++ 
t++ 
=>++  
t++! "
.++" #
Id++# %
)++% &
.,, 
Index,, 
(,, 
t,, 
=>,, 
t,, 
.,, 
UserName,, &
,,,& '
unique,,( .
:,,. /
true,,0 4
,,,4 5
name,,6 :
:,,: ;
$str,,< K
),,K L
;,,L M
CreateTable.. 
(.. 
$str// &
,//& '
c00 
=>00 
new00 
{11 
Id22 
=22 
c22 
.22 
Int22 "
(22" #
nullable22# +
:22+ ,
false22- 2
,222 3
identity224 <
:22< =
true22> B
)22B C
,22C D
UserId33 
=33  
c33! "
.33" #
String33# )
(33) *
nullable33* 2
:332 3
false334 9
,339 :
	maxLength33; D
:33D E
$num33F I
)33I J
,33J K
	ClaimType44 !
=44" #
c44$ %
.44% &
String44& ,
(44, -
)44- .
,44. /

ClaimValue55 "
=55# $
c55% &
.55& '
String55' -
(55- .
)55. /
,55/ 0
}66 
)66 
.77 

PrimaryKey77 
(77 
t77 
=>77  
t77! "
.77" #
Id77# %
)77% &
.88 

ForeignKey88 
(88 
$str88 -
,88- .
t88/ 0
=>881 3
t884 5
.885 6
UserId886 <
,88< =
cascadeDelete88> K
:88K L
true88M Q
)88Q R
.99 
Index99 
(99 
t99 
=>99 
t99 
.99 
UserId99 $
)99$ %
;99% &
CreateTable;; 
(;; 
$str<< &
,<<& '
c== 
=>== 
new== 
{>> 
LoginProvider?? %
=??& '
c??( )
.??) *
String??* 0
(??0 1
nullable??1 9
:??9 :
false??; @
,??@ A
	maxLength??B K
:??K L
$num??M P
)??P Q
,??Q R
ProviderKey@@ #
=@@$ %
c@@& '
.@@' (
String@@( .
(@@. /
nullable@@/ 7
:@@7 8
false@@9 >
,@@> ?
	maxLength@@@ I
:@@I J
$num@@K N
)@@N O
,@@O P
UserIdAA 
=AA  
cAA! "
.AA" #
StringAA# )
(AA) *
nullableAA* 2
:AA2 3
falseAA4 9
,AA9 :
	maxLengthAA; D
:AAD E
$numAAF I
)AAI J
,AAJ K
}BB 
)BB 
.CC 

PrimaryKeyCC 
(CC 
tCC 
=>CC  
newCC! $
{CC% &
tCC' (
.CC( )
LoginProviderCC) 6
,CC6 7
tCC8 9
.CC9 :
ProviderKeyCC: E
,CCE F
tCCG H
.CCH I
UserIdCCI O
}CCP Q
)CCQ R
.DD 

ForeignKeyDD 
(DD 
$strDD -
,DD- .
tDD/ 0
=>DD1 3
tDD4 5
.DD5 6
UserIdDD6 <
,DD< =
cascadeDeleteDD> K
:DDK L
trueDDM Q
)DDQ R
.EE 
IndexEE 
(EE 
tEE 
=>EE 
tEE 
.EE 
UserIdEE $
)EE$ %
;EE% &
CreateTableGG 
(GG 
$strHH %
,HH% &
cII 
=>II 
newII 
{JJ 
UserIdKK 
=KK  
cKK! "
.KK" #
StringKK# )
(KK) *
nullableKK* 2
:KK2 3
falseKK4 9
,KK9 :
	maxLengthKK; D
:KKD E
$numKKF I
)KKI J
,KKJ K
RoleIdLL 
=LL  
cLL! "
.LL" #
StringLL# )
(LL) *
nullableLL* 2
:LL2 3
falseLL4 9
,LL9 :
	maxLengthLL; D
:LLD E
$numLLF I
)LLI J
,LLJ K
}MM 
)MM 
.NN 

PrimaryKeyNN 
(NN 
tNN 
=>NN  
newNN! $
{NN% &
tNN' (
.NN( )
UserIdNN) /
,NN/ 0
tNN1 2
.NN2 3
RoleIdNN3 9
}NN: ;
)NN; <
.OO 

ForeignKeyOO 
(OO 
$strOO -
,OO- .
tOO/ 0
=>OO1 3
tOO4 5
.OO5 6
UserIdOO6 <
,OO< =
cascadeDeleteOO> K
:OOK L
trueOOM Q
)OOQ R
.PP 

ForeignKeyPP 
(PP 
$strPP -
,PP- .
tPP/ 0
=>PP1 3
tPP4 5
.PP5 6
RoleIdPP6 <
,PP< =
cascadeDeletePP> K
:PPK L
truePPM Q
)PPQ R
.QQ 
IndexQQ 
(QQ 
tQQ 
=>QQ 
tQQ 
.QQ 
UserIdQQ $
)QQ$ %
.RR 
IndexRR 
(RR 
tRR 
=>RR 
tRR 
.RR 
RoleIdRR $
)RR$ %
;RR% &
CreateTableTT 
(TT 
$strUU 
,UU 
cVV 
=>VV 
newVV 
{WW 
IdXX 
=XX 
cXX 
.XX 
IntXX "
(XX" #
nullableXX# +
:XX+ ,
falseXX- 2
,XX2 3
identityXX4 <
:XX< =
trueXX> B
)XXB C
,XXC D
NameYY 
=YY 
cYY  
.YY  !
StringYY! '
(YY' (
)YY( )
,YY) *
PathZZ 
=ZZ 
cZZ  
.ZZ  !
StringZZ! '
(ZZ' (
)ZZ( )
,ZZ) *
Description[[ #
=[[$ %
c[[& '
.[[' (
String[[( .
([[. /
)[[/ 0
,[[0 1
Geolocation\\ #
=\\$ %
c\\& '
.\\' (
String\\( .
(\\. /
)\\/ 0
,\\0 1
CreatedDate]] #
=]]$ %
c]]& '
.]]' (
DateTime]]( 0
(]]0 1
)]]1 2
,]]2 3
	GalleryId^^ !
=^^" #
c^^$ %
.^^% &
Int^^& )
(^^) *
nullable^^* 2
:^^2 3
false^^4 9
)^^9 :
,^^: ;
}__ 
)__ 
.`` 

PrimaryKey`` 
(`` 
t`` 
=>``  
t``! "
.``" #
Id``# %
)``% &
.aa 

ForeignKeyaa 
(aa 
$straa +
,aa+ ,
taa- .
=>aa/ 1
taa2 3
.aa3 4
	GalleryIdaa4 =
,aa= >
cascadeDeleteaa? L
:aaL M
trueaaN R
)aaR S
.bb 
Indexbb 
(bb 
tbb 
=>bb 
tbb 
.bb 
	GalleryIdbb '
)bb' (
;bb( )
CreateTabledd 
(dd 
$stree !
,ee! "
cff 
=>ff 
newff 
{gg 
Idhh 
=hh 
chh 
.hh 
Stringhh %
(hh% &
nullablehh& .
:hh. /
falsehh0 5
,hh5 6
	maxLengthhh7 @
:hh@ A
$numhhB E
)hhE F
,hhF G
Nameii 
=ii 
cii  
.ii  !
Stringii! '
(ii' (
nullableii( 0
:ii0 1
falseii2 7
,ii7 8
	maxLengthii9 B
:iiB C
$numiiD G
)iiG H
,iiH I
}jj 
)jj 
.kk 

PrimaryKeykk 
(kk 
tkk 
=>kk  
tkk! "
.kk" #
Idkk# %
)kk% &
.ll 
Indexll 
(ll 
tll 
=>ll 
tll 
.ll 
Namell "
,ll" #
uniquell$ *
:ll* +
truell, 0
,ll0 1
namell2 6
:ll6 7
$strll8 G
)llG H
;llH I
}nn 	
publicpp 
overridepp 
voidpp 
Downpp !
(pp! "
)pp" #
{qq 	
DropForeignKeyrr 
(rr 
$strrr 0
,rr0 1
$strrr2 :
,rr: ;
$strrr< M
)rrM N
;rrN O
DropForeignKeyss 
(ss 
$strss '
,ss' (
$strss) 4
,ss4 5
$strss6 E
)ssE F
;ssF G
DropForeignKeytt 
(tt 
$strtt 0
,tt0 1
$strtt2 :
,tt: ;
$strtt< M
)ttM N
;ttN O
DropForeignKeyuu 
(uu 
$struu 1
,uu1 2
$struu3 ;
,uu; <
$struu= N
)uuN O
;uuO P
DropForeignKeyvv 
(vv 
$strvv *
,vv* +
$strvv, :
,vv: ;
$strvv< M
)vvM N
;vvN O
DropForeignKeyww 
(ww 
$strww 1
,ww1 2
$strww3 ;
,ww; <
$strww= N
)wwN O
;wwO P
	DropIndexxx 
(xx 
$strxx '
,xx' (
$strxx) 8
)xx8 9
;xx9 :
	DropIndexyy 
(yy 
$stryy "
,yy" #
newyy$ '
[yy' (
]yy( )
{yy* +
$stryy, 7
}yy8 9
)yy9 :
;yy: ;
	DropIndexzz 
(zz 
$strzz +
,zz+ ,
newzz- 0
[zz0 1
]zz1 2
{zz3 4
$strzz5 =
}zz> ?
)zz? @
;zz@ A
	DropIndex{{ 
({{ 
$str{{ +
,{{+ ,
new{{- 0
[{{0 1
]{{1 2
{{{3 4
$str{{5 =
}{{> ?
){{? @
;{{@ A
	DropIndex|| 
(|| 
$str|| ,
,||, -
new||. 1
[||1 2
]||2 3
{||4 5
$str||6 >
}||? @
)||@ A
;||A B
	DropIndex}} 
(}} 
$str}} ,
,}}, -
new}}. 1
[}}1 2
]}}2 3
{}}4 5
$str}}6 >
}}}? @
)}}@ A
;}}A B
	DropIndex~~ 
(~~ 
$str~~ '
,~~' (
$str~~) 8
)~~8 9
;~~9 :
	DropIndex 
( 
$str %
,% &
new' *
[* +
]+ ,
{- .
$str/ =
}> ?
)? @
;@ A
	DropTable
€€ 
(
€€ 
$str
€€ '
)
€€' (
;
€€( )
	DropTable
 
(
 
$str
 "
)
" #
;
# $
	DropTable
‚‚ 
(
‚‚ 
$str
‚‚ +
)
‚‚+ ,
;
‚‚, -
	DropTable
ƒƒ 
(
ƒƒ 
$str
ƒƒ ,
)
ƒƒ, -
;
ƒƒ- .
	DropTable
„„ 
(
„„ 
$str
„„ ,
)
„„, -
;
„„- .
	DropTable
…… 
(
…… 
$str
…… '
)
……' (
;
……( )
	DropTable
†† 
(
†† 
$str
†† %
)
††% &
;
††& '
}
‡‡ 	
}
ˆˆ 
}‰‰ Ñ
wD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Migrations\201709180606521_First.cs
	namespace 
PrivateGallery 
. 
DAL  
.  !

Migrations! +
{ 
public 

partial 
class 
First 
:  
DbMigration! ,
{ 
public 
override 
void 
Up 
(  
)  !
{		 	
DropForeignKey

 
(

 
$str

 '
,

' (
$str

) 4
,

4 5
$str

6 E
)

E F
;

F G
	DropIndex 
( 
$str "
," #
new$ '
[' (
]( )
{* +
$str, 7
}8 9
)9 :
;: ;
RenameColumn 
( 
table 
: 
$str  ,
,, -
name. 2
:2 3
$str4 ?
,? @
newNameA H
:H I
$strJ U
)U V
;V W
AlterColumn 
( 
$str $
,$ %
$str& 1
,1 2
c3 4
=>5 7
c8 9
.9 :
Int: =
(= >
)> ?
)? @
;@ A
CreateIndex 
( 
$str $
,$ %
$str& 1
)1 2
;2 3
AddForeignKey 
( 
$str &
,& '
$str( 3
,3 4
$str5 D
,D E
$strF J
)J K
;K L
} 	
public 
override 
void 
Down !
(! "
)" #
{ 	
DropForeignKey 
( 
$str '
,' (
$str) 4
,4 5
$str6 E
)E F
;F G
	DropIndex 
( 
$str "
," #
new$ '
[' (
]( )
{* +
$str, 7
}8 9
)9 :
;: ;
AlterColumn 
( 
$str $
,$ %
$str& 1
,1 2
c3 4
=>5 7
c8 9
.9 :
Int: =
(= >
nullable> F
:F G
falseH M
)M N
)N O
;O P
RenameColumn 
( 
table 
: 
$str  ,
,, -
name. 2
:2 3
$str4 ?
,? @
newNameA H
:H I
$strJ U
)U V
;V W
CreateIndex 
( 
$str $
,$ %
$str& 1
)1 2
;2 3
AddForeignKey 
( 
$str &
,& '
$str( 3
,3 4
$str5 D
,D E
$strF J
,J K
cascadeDeleteL Y
:Y Z
true[ _
)_ `
;` a
} 	
} 
} ¥	
oD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Migrations\Configuration.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 

Migrations '
{ 
internal 
sealed 
class 
Configuration '
:( )%
DbMigrationsConfiguration* C
<C D
PrivateGalleryD R
.R S
DALS V
.V W
ContextsW _
._ `#
PrivateGalleryDbContext` w
>w x
{		 
public

 
Configuration

 
(

 
)

 
{ 	&
AutomaticMigrationsEnabled &
=' (
false) .
;. /

ContextKey 
= 
$str N
;N O
} 	
	protected 
override 
void 
Seed  $
($ %
PrivateGallery% 3
.3 4
DAL4 7
.7 8
Contexts8 @
.@ A#
PrivateGalleryDbContextA X
contextY `
)` a
{ 	
} 	
} 
}   ™
nD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str -
)- .
]. /
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str /
)/ 0
]0 1
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *Ÿ
uD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Repositories\GalleryRepository.cs
	namespace

 	
PrivateGallery


 
.

 
DAL

 
.

 
Repositories

 )
{ 
internal 
class 
GalleryRepository $
:% &
RepositoryBase' 5
<5 6
Gallery6 =
>= >
{ 
public 
GalleryRepository  
(  !#
PrivateGalleryDbContext! 8
context9 @
)@ A
:B C
baseD H
(H I
contextI P
)P Q
{ 	
} 	
public 
override 
void 
Update #
(# $
Gallery$ +
item, 0
)0 1
=>2 4
Context5 <
.< =
Entry= B
(B C
itemC G
)G H
.H I
StateI N
=O P
EntityStateQ \
.\ ]
Modified] e
;e f
public 
override 
void 
Delete #
(# $
Func$ (
<( )
Gallery) 0
,0 1
bool2 6
>6 7
func8 <
)< =
{ 	
var 
found 
= 
Context 
.  
	Galleries  )
. 
FirstOrDefault 
(  
func  $
)$ %
;% &
if 
( 
found 
!= 
null 
) 
Context 
. 
	Galleries !
.! "
Remove" (
(( )
found) .
). /
;/ 0
} 	
public 
override 
IEnumerable #
<# $
Gallery$ +
>+ ,
GetAll- 3
(3 4
)4 5
=>6 8
Context9 @
.@ A
	GalleriesA J
;J K
public 
override 
Gallery 
Get  #
(# $
Func$ (
<( )
Gallery) 0
,0 1
bool2 6
>6 7
func8 <
)< =
=>> @
ContextA H
.H I
	GalleriesI R
.R S
FirstOrDefaultS a
(a b
funcb f
)f g
;g h
public 
override 
Task 
< 
Gallery $
>$ %
GetAsync& .
(. /

Expression/ 9
<9 :
Func: >
<> ?
Gallery? F
,F G
boolH L
>L M
>M N
funcO S
)S T
=>T V
ContextW ^
.^ _
	Galleries_ h
.h i
FirstOrDefaultAsynci |
(| }
func	} 
)
 ‚
;
‚ ƒ
public 
override 
void 
Create #
(# $
Gallery$ +
item, 0
)0 1
=>2 4
Context5 <
.< =
	Galleries= F
.F G
AddG J
(J K
itemK O
)O P
;P Q
} 
} 
oD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Repositories\IRepository.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 
Repositories )
{ 
public		 

	interface		 
IRepository		  
<		  !
T		! "
>		" #
:		# $
IDisposable		$ /
where		0 5
T		6 7
:		7 8
class		8 =
{

 
IEnumerable 
< 
T 
> 
GetAll 
( 
) 
;  
T 	
Get
 
( 
Func 
< 
T 
, 
bool 
> 
func  
)  !
;! "
Task 
< 
T 
> 
GetAsync 
( 

Expression #
<# $
Func$ (
<( )
T) *
,* +
bool, 0
>0 1
>1 2
func3 7
)7 8
;8 9
void 
Create 
( 
T 
item 
) 
; 
void## 
Update## 
(## 
T## 
item## 
)## 
;## 
void(( 
Delete(( 
((( 
Func(( 
<(( 
T(( 
,(( 
bool(( 
>((  
func((! %
)((% &
;((& '
})) 
}** ð
sD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Repositories\PhotoRepository.cs
	namespace

 	
PrivateGallery


 
.

 
DAL

 
.

 
Repositories

 )
{ 
internal 
class 
PhotoRepository "
:# $
RepositoryBase% 3
<3 4
Photo4 9
>9 :
{ 
public 
PhotoRepository 
( #
PrivateGalleryDbContext 6
context7 >
)> ?
:@ A
baseB F
(F G
contextG N
)N O
{ 	
} 	
public 
override 
void 
Update #
(# $
Photo$ )
item* .
). /
=>0 2
Context3 :
.: ;
Entry; @
(@ A
itemA E
)E F
.F G
StateG L
=M N
EntityStateO Z
.Z [
Modified[ c
;c d
public 
override 
void 
Delete #
(# $
Func$ (
<( )
Photo) .
,. /
bool0 4
>4 5
func6 :
): ;
{ 	
var 
found 
= 
Context 
.  
Photos  &
. 
FirstOrDefault 
(  
func  $
)$ %
;% &
if 
( 
found 
!= 
null 
) 
Context 
. 
Photos 
. 
Remove %
(% &
found& +
)+ ,
;, -
} 	
public 
override 
IEnumerable #
<# $
Photo$ )
>) *
GetAll+ 1
(1 2
)2 3
=>4 6
Context7 >
.> ?
Photos? E
;E F
public 
override 
Photo 
Get !
(! "
Func" &
<& '
Photo' ,
,, -
bool. 2
>2 3
func4 8
)8 9
=>: <
Context= D
.D E
PhotosE K
.K L
FirstOrDefaultL Z
(Z [
func[ _
)_ `
;` a
public 
override 
Task 
< 
Photo "
>" #
GetAsync$ ,
(, -

Expression- 7
<7 8
Func8 <
<< =
Photo= B
,B C
boolD H
>H I
>I J
funcK O
)O P
=>P R
ContextS Z
.Z [
Photos[ a
.a b
FirstOrDefaultAsyncb u
(u v
funcv z
)z {
;{ |
public 
override 
void 
Create #
(# $
Photo$ )
item* .
). /
=>0 2
Context3 :
.: ;
Photos; A
.A B
AddB E
(E F
itemF J
)J K
;K L
} 
} ¢
rD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Repositories\RepositoryBase.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 
Repositories )
{		 
internal

 
abstract

 
class

 
RepositoryBase

 *
<

* +
T

+ ,
>

, -
:

. /
IRepository

0 ;
<

; <
T

< =
>

= >
where

? D
T

E F
:

F G
class

G L
{ 
	protected #
PrivateGalleryDbContext )
Context* 1
;1 2
	protected 
RepositoryBase  
(  !#
PrivateGalleryDbContext! 8
context9 @
)@ A
=>B D
thisE I
.I J
ContextJ Q
=R S
contextT [
;[ \
public 
abstract 
void 
Delete #
(# $
Func$ (
<( )
T) *
,* +
bool, 0
>0 1
func2 6
)6 7
;7 8
public 
abstract 
T 
Get 
( 
Func "
<" #
T# $
,$ %
bool& *
>* +
func, 0
)0 1
;1 2
public 
abstract 
Task 
< 
T 
> 
GetAsync  (
(( )

Expression) 3
<3 4
Func4 8
<8 9
T9 :
,: ;
bool< @
>@ A
>A B
funcC G
)G H
;H I
public 
abstract 
void 
Create #
(# $
T$ %
item& *
)* +
;+ ,
public 
abstract 
IEnumerable $
<$ %
T% &
>& '
GetAll( .
(. /
)/ 0
;0 1
public 
abstract 
void 
Update #
(# $
T$ %
item& *
)* +
;+ ,
public 
void 
Dispose 
( 
) 
=>  
Context! (
?( )
.) *
Dispose* 1
(1 2
)2 3
;3 4
} 
} Ä
nD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Repositories\UnitOfWork.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 
Repositories )
{		 
public

 

class

 

UnitOfWork

 
:

 
IDisposable

 '
{ 
private 
static 
readonly #
PrivateGalleryDbContext  7
Context8 ?
=@ A
newB E#
PrivateGalleryDbContextF ]
(] ^
)^ _
;_ `
private 
static 
readonly 
Lazy  $
<$ %

UnitOfWork% /
>/ 0
_unitOfWork1 <
== >
new 
Lazy 
< 

UnitOfWork 
>  
(  ! 
LazyThreadSafetyMode! 5
.5 6#
ExecutionAndPublication6 M
)M N
;N O
public 
static 

UnitOfWork  
Instance! )
=>* ,
_unitOfWork- 8
.8 9
Value9 >
??? A
newB E
LazyF J
<J K

UnitOfWorkK U
>U V
(V W
)W X
.X Y
ValueY ^
;^ _
public 
IRepository 
< 
Gallery "
>" #
Gallery$ +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
=: ;
new< ?
GalleryRepository@ Q
(Q R
ContextR Y
)Y Z
;Z [
public 
IRepository 
< 
Photo  
>  !
Photos" (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
new9 <
PhotoRepository= L
(L M
ContextM T
)T U
;U V
public 
IRepository 
< 
User 
>  
Users! &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
=5 6
new7 :
UserRepository; I
(I J
ContextJ Q
)Q R
;R S
public 
void 
Save 
( 
) 
=> 
Context %
.% &
SaveChanges& 1
(1 2
)2 3
;3 4
public 
Task 
	SaveAsync 
( 
) 
=>  "
Context# *
.* +
SaveChangesAsync+ ;
(; <
)< =
;= >
public 
void 
Dispose 
( 
) 
{ 	
Gallery 
? 
. 
Dispose 
( 
) 
; 
Photos 
? 
. 
Dispose 
( 
) 
; 
Users 
? 
. 
Dispose 
( 
) 
; 
} 	
} 
} Þ
rD:\Clouds\MegaNZ\Self-Development\Android_Xamarin\PrivateGallery\PrivateGallery.DAL\Repositories\UserRepository.cs
	namespace 	
PrivateGallery
 
. 
DAL 
. 
Repositories )
{ 
internal 
class 
UserRepository !
:" #
RepositoryBase$ 2
<2 3
User3 7
>7 8
{ 
public 
UserRepository 
( #
PrivateGalleryDbContext 5
context6 =
)= >
:? @
baseA E
(E F
contextF M
)M N
{ 	
} 	
public 
override 
void 
Update #
(# $
User$ (
item) -
)- .
=>/ 1
Context2 9
.9 :
Entry: ?
(? @
item@ D
)D E
.E F
StateF K
=L M
EntityStateN Y
.Y Z
ModifiedZ b
;b c
public 
override 
void 
Delete #
(# $
Func$ (
<( )
User) -
,- .
bool/ 3
>3 4
func5 9
)9 :
{ 	
var 
found 
= 
Context 
.  
Users  %
. 
FirstOrDefault 
(  
func  $
)$ %
;% &
if 
( 
found 
!= 
null 
) 
Context 
. 
Users 
. 
Remove $
($ %
found% *
)* +
;+ ,
} 	
public 
override 
IEnumerable #
<# $
User$ (
>( )
GetAll* 0
(0 1
)1 2
=>3 5
Context6 =
.= >
Users> C
;C D
public 
override 
User 
Get  
(  !
Func! %
<% &
User& *
,* +
bool, 0
>0 1
func2 6
)6 7
=>8 :
Context; B
.B C
UsersC H
.H I
FirstOrDefaultI W
(W X
funcX \
)\ ]
;] ^
public   
override   
Task   
<   
User   !
>  ! "
GetAsync  # +
(  + ,

Expression  , 6
<  6 7
Func  7 ;
<  ; <
User  < @
,  @ A
bool  B F
>  F G
>  G H
func  I M
)  M N
=>  O Q
Context  R Y
.  Y Z
Users  Z _
.  _ `
FirstOrDefaultAsync  ` s
(  s t
func!! 
)!! 
;!! 
public## 
override## 
void## 
Create## #
(### $
User##$ (
item##) -
)##- .
=>##/ 1
Context##2 9
.##9 :
Users##: ?
.##? @
Add##@ C
(##C D
item##D H
)##H I
;##I J
}$$ 
}%% 